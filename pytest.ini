[pytest]
DJANGO_SETTINGS_MODULE = fingenie_core.settings

# Which test files pytest should detect
python_files = tests.py test_*.py *_tests.py

# Speed up DB usage
addopts =
    --reuse-db
    --cov=apps.dataprocessor
    --cov-report=html
    --cov-report=term
    --no-cov-on-fail

# Ignore broken / legacy early-tests completely
norecursedirs =
    apps/dataprocessor/test_early_views

# Coverage configuration
[coverage:run]
# Only measure your actual app code
source =
    apps/dataprocessor

# Do NOT measure early tests or migration files
omit =
    apps/dataprocessor/test_early_views/*
    apps/dataprocessor/migrations/*
    */__pycache__/*
    */tests/*
    */test_early_views/*
    */venv/*
    
# Avoid warnings about module-not-measured
parallel = True

[coverage:report]
show_missing = True
skip_covered = True
precision = 2
